{% extends 'base.html' %}

{% block 'body' %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Painel do Dentista</a>

    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        <li class="nav-item">
          <a class="nav-link active" href="{% url 'dashboard_dentista' %}">
            Minha Agenda
          </a>
        </li>

      </ul>

      <span class="navbar-text text-white me-3">
        {{ request.user.email }}
      </span>

      <a href="{% url 'sair' %}" class="btn btn-danger">Sair</a>
    </div>
  </div>
</nav>

<br>

<div class="container">

  <h2>Minha Agenda</h2>

  {% if messages %}
    {% for message in messages %}
      <div class="alert {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}

  {% if agendamentos.count == 0 %}
      <p class="text-center mt-4">Nenhum agendamento encontrado.</p>
  {% else %}

  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Paciente</th>
          <th>Telefone</th>
          <th>Data</th>
          <th>Hor√°rio</th>
          <th>Procedimento</th>
        </tr>
      </thead>
      <tbody>
        {% for agendamento in agendamentos %}
        <tr>
          <td>{{ agendamento.paciente.nome }}</td>
          <td>{{ agendamento.paciente.telefone }}</td>
          <td>{{ agendamento.data }}</td>
          <td>{{ agendamento.horario }}</td>
          <td>{{ agendamento.procedimento }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% endif %}

</div>

{% endblock %}
